(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{c0b4:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"q-pa-md row justify-center"},[t("div",{staticClass:"col-6",staticStyle:{height:"70vh"}},[t("q-scroll-area",{ref:"scroll",staticStyle:{height:"79vh"},on:{scroll:e.scrollPosition}},[t("q-chat-message",{attrs:{label:"Sunday, 19th"}}),e._l(e.allMessages,(function(e,s){return t("div",{key:s},[2==e.userId?t("q-chat-message",{attrs:{name:e.user.name,avatar:"https://cdn.quasar.dev/img/avatar3.jpg",text:[e.message],sent:"",stamp:"7 minutes ago"}}):t("q-chat-message",{attrs:{name:e.user.name,avatar:"https://cdn.quasar.dev/img/avatar4.jpg",text:[e.message],stamp:"4 minutes ago"}})],1)}))],2),t("q-input",{attrs:{outlined:"","bottom-slots":"",dense:e.dense},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.sendMessage(s)}},scopedSlots:e._u([{key:"append",fn:function(){return[""!==e.message?t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(s){e.message=""}}}):e._e()]},proxy:!0},{key:"after",fn:function(){return[t("q-btn",{attrs:{round:"",dense:e.dense,flat:"",icon:"send"},on:{click:e.sendMessage}})]},proxy:!0}]),model:{value:e.message,callback:function(s){e.message=s},expression:"message"}})],1)])},n=[],r=(t("e6cf"),{name:"ChatPage",data(){return{allMessages:[],message:"",user:{id:2,name:"Jono"},ph:"",dense:!1}},created(){this.fetchMessage()},methods:{async fetchMessage(){await this.$db.collection("chats").orderBy("createdAt").onSnapshot((e=>{let s=[];e.forEach((e=>{s.push(e.data())})),this.allMessages=s,this.$refs.scroll.setScrollPosition(909,1)})),this.$refs.scroll.setScrollPercentage(1)},sendMessage(){this.$db.collection("chats").add({userId:this.user.id,user:this.user,message:this.message,createdAt:new Date}),this.message=null,this.fetchMessage()},scrollPosition(e){}}}),o=r,c=t("2877"),l=Object(c["a"])(o,a,n,!1,null,null,null);s["default"]=l.exports}}]);